<!DOCTYPE html>
<html>
<head>
    <title>Admin</title>
</head>
<body>
    <!-- user data -->
    <p>Click the create button to create a new user data</p>
    <form id="createUserIdForm">
        <label for="newUserId">New user ID:</label>
        <input type="text" id="newUserId" name="newUserId">
        <br>
        <label for="newUserPassword">New user Password:</label>
        <input type="text" id="newUserPassword" name="newUserPassword">
        <br>
        <input type="submit" value="Submit">
    </form>
    <br>

    <p>Click the read button to read user data</p>
    <form id="readUserIdForm">
        <label for="readUserId">Read user ID:</label>
        <input type="submit" id="readUserId" name="readUserId" value="Submit">
    </form>
    <br>

    <p>Click the update button to update a user id</p>
    <form id="updateUserIdForm">
        <label for="userId_1">User ID:</label>
        <input type="text" id="userId_1" name="userId_1">
        <label for="userPassword_1">User Password:</label>
        <input type="text" id="userPassword_1" name="userPassword_1">
        <label for="updatedUserId">Updated User ID:</label>
        <input type="text" id="updatedUserId" name="updatedUserId">
        <br>
        <input type="submit" value="Update">
    </form>
    <br>

    <p>Click the update button to update a user password</p>
    <form id="updateUserPasswordForm">
        <label for="userId_2">User ID:</label>
        <input type="text" id="userId_2" name="userId_2">
        <label for="userPassword_2">User Password:</label>
        <input type="text" id="userPassword_2" name="userPassword_2">
        <label for="updatedUserPassword">Updated User Password:</label>
        <input type="text" id="updatedUserPassword" name="updatedUserPassword">
        <br>
        <input type="submit" value="Update">
    </form>
    <br>

    <p>Click the delete button to delete a user data</p>
    <form id="deleteUserIdForm">
        <label for="deleteUserId">Delete user ID:</label>
        <input type="text" id="deleteUserId" name="deleteUserId">
        <br>
        <input type="submit" value="Delete">
    </form>
    <br>


    <!-- admin data -->
    <p>Click the create button to create a new admin data</p>
    <form id="createAdminIdForm">
        <label for="newAdminId">New admin ID:</label>
        <input type="text" id="newAdminId" name="newAdminId">
        <br>
        <label for="newAdminPassword">New admin Password:</label>
        <input type="text" id="newAdminPassword" name="newAdminPassword">
        <br>
        <input type="submit" value="Submit">
    </form>
    <br>

    <p>Click the read button to read admin data</p>
    <form id="readAdminIdForm">
        <label for="readAdminId">Read admin ID:</label>
        <input type="submit" id="readAdminId" name="readAdminId" value="Submit">
    </form>
    <br>

    <p>Click the update button to update a admin id</p>
    <form id="updateAdminIdForm">
        <label for="adminId_1">Admin ID:</label>
        <input type="text" id="adminId_1" name="adminId_1">
        <label for="adminPassword_1">Admin Password:</label>
        <input type="text" id="adminPassword_1" name="adminPassword_1">
        <label for="updatedAdminId">Updated Admin ID:</label>
        <input type="text" id="updatedAdminId" name="updatedAdminId">
        <br>
        <input type="submit" value="Update">
    </form>
    <br>

    <p>Click the update button to update a admin password</p>
    <form id="updateAdminPasswordForm">
        <label for="adminId_2">Admin ID:</label>
        <input type="text" id="adminId_2" name="adminId_2">
        <label for="adminPassword_2">Admin Password:</label>
        <input type="text" id="adminPassword_2" name="adminPassword_2">
        <label for="updatedAdminPassword">Updated Admin Password:</label>
        <input type="text" id="updatedAdminPassword" name="updatedAdminPassword">
        <br>
        <input type="submit" value="Update">
    </form>
    <br>

    <p>Click the delete button to delete a admin data</p>
    <form id="deleteAdminIdForm">
        <label for="deleteAdminId">Delete admin ID:</label>
        <input type="text" id="deleteAdminId" name="deleteAdminId">
        <br>
        <input type="submit" value="Delete">
    </form>
    <br>


    <!-- location and event data -->
    <p>Click the find button to find a event</p>
    <form id="findEventIdForm">
        <label for="findEventId">Event ID:</label>
        <input type="text" id="findEventId" name="findEventId">
        <br>
        <input type="submit" value="Submit">
    </form>
    <br>

    <p>Click the create button to create a new event data</p>
    <form id="createEventForm">
        <label for="newEventName">Event name:</label>
        <input type="text" id="newEventName" name="newEventName">
        <br>
        <label for="newEventQuota">Event quota:</label>
        <input type="text" id="newEventQuota" name="newEventQuota">
        <br>
        <label for="locationName">Location name:</label>
        <input type="text" id="locationName" name="locationName">
        <br>
        <input type="submit" value="Submit">
    </form>
    <br>

    <p>Click the delete button to delete a event data</p>
    <form id="deleteEventForm">
        <label for="deleteEvent">Event ID:</label>
        <input type="text" id="deleteEvent" name="deleteEvent">
        <br>
        <input type="submit" value="Delete">
    </form>    

    <p>Click the button to list all event data</p>
    <form id="listEventForm">
        <label for="listEvent">List every event</label>
        <br>
        <input type="submit" value="Submit" id="listEvent" name="listEvent">
    </form> 

    <p>Click the find button to find a location</p>
    <form id="findLocationNameForm">
        <label for="findLocationName">Location name:</label>
        <input type="text" id="findLocationName" name="findLocationName">
        <br>
        <input type="submit" value="Submit">
    </form>
    <br>

    <p>Click the button to list all location data</p>
    <form id="listLocationForm">
        <label for="listLocation">List every location</label>
        <br>
        <input type="submit" value="Submit" id="listLocation" name="listLocation">
    </form> 

    <p>Click the update button to update a event data</p>
    <form id="loadEventForm">
        <label for="loadEventId">Event ID:</label>
        <input type="text" id="loadEventId" name="loadEventId"required>
        <br>
        <input type="submit" value="Load Event">
    </form>
    
    <form id="updateEventForm">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name"required>

        <label for="quota">Quota:</label>
        <input type="number" id="quota" name="quota" required>

        <label for="loc">Location Id:</label>
        <input type="text" id="loc" name="loc" required>

        <input type="submit" value="Update Event">
    </form>
    <br>

    <script>
        // user
        document.getElementById('createUserIdForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const userId = document.getElementById('newUserId').value;
            const userPassword = document.getElementById('newUserPassword').value;
            const data = {
                userId: userId,
                userPassword: userPassword,
            };
            const url = 'http://localhost:3000/userId/'+userId+'/userPassword/'+userPassword;

            const response = await fetch(url, { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            });
            
            /* commented to not show the result
            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
            */
        });

        document.getElementById('readUserIdForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            console.log("11111");
            const url = 'http://localhost:3000/readUserId';

            const response = await fetch(url, { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });

        document.getElementById('updateUserIdForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const userId = document.getElementById('userId_1').value;
            const userPassword = document.getElementById('userPassword_1').value;
            const updatedUserId = document.getElementById('updatedUserId').value;

            const url = 'http://localhost:3000/userId/'+userId+'/userPassword/'+userPassword+'/updatedUserId/'+updatedUserId;

            const response = await fetch(url, { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });

        document.getElementById('updateUserPasswordForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const userId = document.getElementById('userId_2').value;
            const userPassword = document.getElementById('userPassword_2').value;
            const updatedUserPassword = document.getElementById('updatedUserPassword').value;

            const url = 'http://localhost:3000/userId/'+userId+'/userPassword/'+userPassword+'/updatedUserPassword/'+updatedUserPassword;

            const response = await fetch(url, { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });


        document.getElementById('deleteUserIdForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const deleteUserId = document.getElementById('deleteUserId').value;

            const url = 'http://localhost:3000/deleteUserId/'+deleteUserId;

            const response = await fetch(url, { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });


        // admin
        document.getElementById('createAdminIdForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const adminId = document.getElementById('newAdminId').value;
            const adminPassword = document.getElementById('newAdminPassword').value;
            const data = {
                adminId: adminId,
                adminPassword: adminPassword,
            };
            const url = 'http://localhost:3000/adminId/'+adminId+'/adminPassword/'+adminPassword;

            const response = await fetch(url, { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            });
            
            /* commented to not show the result
            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
            */
        });

        document.getElementById('readAdminIdForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const url = 'http://localhost:3000/readAdminId';

            const response = await fetch(url, { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });

        document.getElementById('updateAdminIdForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const adminId = document.getElementById('adminId_1').value;
            const adminPassword = document.getElementById('adminPassword_1').value;
            const updatedAdminId = document.getElementById('updatedAdminId').value;

            const url = 'http://localhost:3000/adminId/'+adminId+'/adminPassword/'+adminPassword+'/updatedAdminId/'+updatedAdminId;

            const response = await fetch(url, { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });

        document.getElementById('updateAdminPasswordForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const adminId = document.getElementById('adminId_2').value;
            const adminPassword = document.getElementById('adminPassword_2').value;
            const updatedAdminPassword = document.getElementById('updatedAdminPassword').value;

            const url = 'http://localhost:3000/adminId/'+adminId+'/adminPassword/'+adminPassword+'/updatedAdminPassword/'+updatedAdminPassword;

            const response = await fetch(url, { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });


        document.getElementById('deleteAdminIdForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const deleteAdminId = document.getElementById('deleteAdminId').value;

            const url = 'http://localhost:3000/deleteAdminId/'+deleteAdminId;

            const response = await fetch(url, { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });


        // location and events
        document.getElementById('findEventIdForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            let eventId = document.getElementById('findEventId').value;
            const url = 'http://localhost:3000/ev/'+eventId;

            const response = await fetch(url, { 
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                },
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });

        document.getElementById('createEventForm').addEventListener('submit', async (event) => {
            event.preventDefault();

            const newEventName = document.getElementById('newEventName').value;
            const newEventQuota = document.getElementById('newEventQuota').value;
            const locationName = document.getElementById('locationName').value;
            const data = {
                "name": newEventName,
                "quota": newEventQuota,
                "locationName": locationName,
            };
            const url = 'http://localhost:3000/ev';
            console.log(url);
            const response = await fetch(url, { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });

        document.getElementById('deleteEventForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            let eventId = document.getElementById('deleteEvent').value;
            const url = 'http://localhost:3000/ev/'+eventId;

            const response = await fetch(url, { 
                method: 'DELETE',
                headers: {
                    'Content-Type': 'application/json'
                },
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });

        document.getElementById('listEventForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const url = 'http://localhost:3000/ev';

            const response = await fetch(url, { 
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                },
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });

        document.getElementById('findLocationNameForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            let locationName = document.getElementById('findLocationName').value;
            const url = 'http://localhost:3000/lo/'+locationName;

            const response = await fetch(url, { 
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                },
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });

        document.getElementById('listLocationForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const url = 'http://localhost:3000/lo';

            const response = await fetch(url, { 
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                },
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });

        document.getElementById('loadEventForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            const loadEventId = document.getElementById('loadEventId').value;
            const url = 'http://localhost:3000/loadEvent/'+loadEventId;

            const response = await fetch(url, {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                },
            });
            const eventData = await response.json();
            document.getElementById('name').value = eventData.name;
            document.getElementById('quota').value = eventData.quota;
            document.getElementById('loc').value = eventData.loc;
        });

        document.getElementById('updateEventForm').addEventListener('submit', async (event) => {
            event.preventDefault();
            let updateEventId = document.getElementById('loadEventId').value;
            const name = document.getElementById('name').value;
            const quota = document.getElementById('quota').value;
            const loc = document.getElementById('loc').value;
            const url = 'http://localhost:3000/ev/'+updateEventId;

            const data = {
                "name": name,
                "locationId": loc,
                "quota": quota,
            };
            const response = await fetch(url, { 
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data),
            });

            const resultPage = await response.text();
            document.open();
            document.write(resultPage);
            document.close();
        });

    </script>

</body>
</html>